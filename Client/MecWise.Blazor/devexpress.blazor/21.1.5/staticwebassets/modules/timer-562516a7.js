const t={};function n(n,a,l,c){c&&e(a)&&o(a),void 0===t[a]&&(t[a]=setTimeout((()=>{n(),delete t[a]}),l))}function e(n){return!!t[n]}function o(n){clearTimeout(t[n]),delete t[n]}class a{static attachLongTabEventToElement(t,n){a.longTabHandler=n,a.attachEventToElement(t,"touchstart",a.onTouchStart,"ts"),a.attachEventToElement(t,"touchend",a.onTouchEnd,"te"),a.attachEventToElement(t,"touchmove",a.onTouchMove,"tm")}static attachEventToElement(t,n,e,o){t[o=o||e.name]||(t[o]=e),t.removeEventListener(n,e=t[o]),t.addEventListener(n,e)}static onTouchStart(t){a.validEvent(t)&&(a.touchCount++,n((()=>{a.longTouchFireAsync(t)}),"longPress",a.longTouchTimeout,!0))}static onTouchEnd(t){a.validEvent(t)&&(a.touchCount=0,o("longPress"))}static onTouchMove(t){e("longPress")&&(a.touchCount=0,o("longPress"))}static validEvent(t){return t.timeStamp!==a.lastTimeStamp&&(a.lastTimeStamp=t.timeStamp,!0)}static longTouchFireAsync(t){1===a.touchCount&&(a.touchCount=0,a.longTabHandler&&a.longTabHandler.call(this,t))}}a.longTouchTimeout=500,a.longTabHandler=null,a.touchCount=0,a.lastTimeStamp=null;class l{static throttle(t,n){let e=!1,o=null,a=this;return function l(c){if(e)return o=c,void(a=this);t.apply(this,[c]),e=!0,setTimeout((()=>{e=!1,o&&(l.apply(a,[o]),o=null)}),n)}}}export{a as L,l as T,o as c,e as h,n as u};
