const e=window.requestAnimationFrame||function(e){e()};const t=function(e){this.requestFrame=e,this.cache=[[]],this.isInFrame=!1,this.frameTimestamp=null,this.isWaiting=!1,this.getBuffer=function(e){return e||(e=0),this.cache.length<=e&&(this.cache[e]=[]),this.cache[e]},this.execute=function(e,t){if(!this.isInFrame)return!1;let i=this.cache[t||0];return null===i?e(n,this.frameTimestamp):(i=this.getBuffer(t)).push(e),!0},this.runAll=function(e){this.isWaiting=!1,this.isInFrame=!0,this.frameTimestamp=e;for(let e=0;e<this.cache.length;e++){const t=this.cache[e];if(t)for(this.cache[e]=null;t.length;)t.shift()(n,this.frameTimestamp)}this.waitNextFrame()},this.waitNextFrame=function(){this.cache=[[]],this.isInFrame=!1,this.isWaiting=!1},this.requestExecution=function(e,t){const n=this;return new Promise((function(i){function s(t,n){i(e(t,n))}n.execute(s,t)||(n.getBuffer(t).push(s),!1===n.isWaiting&&(n.isWaiting=!0,n.requestFrame(n.runAll.bind(n))))}))}};let n=null;function i(e){const n=new t(e);return n.requestExecution.bind(n)}const s=i((function(t){return n=function(t){return e(t)}(t)}));i((function(e){return s((function(){setTimeout(e)}))}));const c=document;const r=document.createElement("link");async function u(e,t){var n;t.href&&URL.revokeObjectURL(t.href),e&&await(n=()=>t.href=URL.createObjectURL(new Blob([e],{type:"text/css"})),s(n))}r.rel="stylesheet";class h extends HTMLElement{constructor(){super(),this.resourceLinkElement=r.cloneNode()}static get observedAttributes(){return["css"]}attributeChangedCallback(e,t,n){"css"===e&&u(n,this.resourceLinkElement)}connectedCallback(){this.resourceLinkElement.isConnected||document.head.appendChild(this.resourceLinkElement)}disconnectedCallback(){this.resourceLinkElement.isConnected&&(this.resourceLinkElement.remove(),URL.revokeObjectURL(this.resourceLinkElement.href))}}!function(e,t,n){const i=c.querySelectorAll(t),s=i.length;for(let t=0;t<s;t++)e.upgrade(i[t]);e.define(t,n)}(customElements,"dxbl-dynamic-stylesheet",h);export default h;
//# sourceMappingURL=dynamic-stylesheet-component-96bce454.js.map
