import"./esm-chunk-d81494b9.js";import"./esm-chunk-a2731447.js";import{ensureElement as t}from"./esm-dom-utils-0e4190ff.js";import{a as e,d as n}from"./esm-chunk-9c16a801.js";import{d as i,r as o}from"./esm-chunk-f1e43abb.js";function s(t,e,n){t.style.position="absolute",t.style.visibility="hidden",t.style.display="block";const i=function(t,e,n){const i=(u=t,u.offsetParent),o=function(t){if(!t)return{X:0,Y:0};const e=t.getBoundingClientRect();return{X:e.left+0,Y:e.top+0}}(i),s=i.getBoundingClientRect(),d=t.getBoundingClientRect();var u;let c=e+0-o.X;s.left+c+d.width>=document.body.clientWidth&&(c=document.body.clientWidth-d.width-s.left-1);c+=i.scrollLeft;let l=n+0-o.Y;s.top+l+d.height>=window.innerHeight&&(l-=d.height+1);return l+=i.scrollTop,{X:c,Y:l}}(t,e,n);return t.style.top=i.Y+"px",t.style.left=i.X+"px",t.style.visibility="visible",!1}function d(t){t.style.display="none",l(t)}function u(t){t.invokeMethodAsync("Hide")}function c(d,c,l,r){if(!(d=t(d)))return;i(d);const f=function(t){return function(t,e,n){const i=document.getElementById(e);i.contains(t.target)||i===t.target||u(n)}(t,d.id,r)},h=function(t){return function(t,e){"Escape"===t.key&&u(e)}(t,r)};return"ontouchstart"in window?e(document,"touchstart",f):e(document,"mousedown",f),e(document,"keydown",h),o(d,(function(){"ontouchstart"in window?n(document,"touchstart",f):n(document,"mousedown",f),n(document,"keydown",h)})),s(d,c,l),Promise.resolve("ok")}function l(e){if(e=t(e))return i(e),Promise.resolve("ok")}function r(e,n){if(!(n=t(n)))return;n.style.visibility="hidden",n.style.display="block";const i=e.getBoundingClientRect(),o=n.getBoundingClientRect();n.style.position="absolute";let s=e.offsetTop;i.top+o.height>=window.innerHeight&&(s-=o.height+i.top+1-window.innerHeight),n.style.top=s+"px";let d=i.width;i.left+d+o.width>=document.body.clientWidth&&(d-=o.width+i.width+1),n.style.left=d+"px",n.style.visibility="visible"}const f={renderMenu:c,dispose:l,renderSubMenu:r,hideMenuClientSide:d};export default f;export{l as dispose,d as hideMenuClientSide,c as renderMenu,r as renderSubMenu};
